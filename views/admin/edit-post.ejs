<!DOCTYPE html>
<html lang="en">
<head>
  <title>Edit Post</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Include TinyMCE -->
  <script src="https://cdn.tiny.cloud/1/r67m9yx0grkw0tus6mgwzjrk0yy1sqaaqfikdxi21ks59nt3/tinymce/7/tinymce.min.js" referrerpolicy="origin"></script>

  <script>
    tinymce.init({
      selector: 'textarea',  // Select the textarea for TinyMCE
      plugins: 'anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount',
      toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat',
      height: 400
    });
  </script>
</head>
<body>
  <div class="d-flex">
    <%- include('../partials/adminSidebar'); %> <!-- Admin Sidebar -->
    <div class="container-fluid p-4">
      <h1>Edit Post</h1>
      
      <!-- Form for editing post -->
      <form action="/admin/edit-post/<%= post._id %>" method="POST">
        <!-- Post Title -->
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input type="text" name="title" class="form-control" value="<%= post.title %>" required>
        </div>

        <!-- Post Category -->
        <div class="mb-3">
          <label for="category" class="form-label">Category</label>
          <input type="text" name="category" class="form-control" value="<%= post.category %>" required>
        </div>

        <!-- Post Content -->
        <div class="mb-3">
          <label for="content" class="form-label">Content</label>
          <!-- Render content with TinyMCE initialized on textarea -->
          <textarea name="content" class="form-control" rows="5" required><%- post.content %></textarea>
        </div>

        <!-- Submit button -->
        <button type="submit" class="btn btn-success">Update Post</button>
      </form>
    </div>
  </div>

  <%- include('../partials/footer'); %> <!-- Footer -->
</body>
</html>
